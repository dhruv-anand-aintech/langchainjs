---
hide_table_of_contents: true
---

# TokenTextSplitter

Finally, `TokenTextSplitter` splits a raw text string by first converting the text into BPE tokens, then split these tokens into chunks and convert the tokens within a single chunk back into text.

To utilize the `TokenTextSplitter`, first install the accompanying required library

```bash npm2yarn
npm install -S @dqbd/tiktoken
```

Then, you can use it like so:

```typescript
import { Document } from "langchain/document";
import { TokenTextSplitter } from "langchain/text_splitter";

const text = "foo bar baz 123";

const splitter = new TokenTextSplitter({
  encodingName: "gpt2",
  chunkSize: 10,
  chunkOverlap: 0,
});

const output = await splitter.createDocuments([text]);
```

### Vercel / Next.js

Add the following to your `next.config.js` to enable support for WebAssembly modules.

```js title="next.config.js"
const nextConfig = {
  webpack(config) {
    config.experiments = {
      asyncWebAssembly: true,
      layers: true,
    };

    return config;
  },
};
```

#### Vite

If you're using Vite, you need to add the following to your `vite.config.js` to enable support for WebAssembly modules.

```bash npm2yarn
npm install -D vite-plugin-wasm vite-plugin-top-level-await
```

```js title="vite.config.js"
import wasm from "vite-plugin-wasm";
import topLevelAwait from "vite-plugin-top-level-await";
import { defineConfig } from "vite";

export default defineConfig({
  plugins: [wasm(), topLevelAwait()],
});
```